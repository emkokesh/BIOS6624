---
title: "README_Project1"
output: html_document
---

## Project 1 Status Update (EDA started)

### Repository structure
- `Background/` – project description / references
- `Code/` – analysis scripts
- `DataRaw/` – raw data folder 
- `DataProcessed/` – cleaned/derived datasets
- `Reports/` – knitted outputs / writeups

### Code files created
- `Code/Project1_EDA.Rmd` – initial data loading + structure checks + baseline exposure creation
- `Code/Project1_Analysis_Frequentist.Rmd` – placeholder for frequentist modeling
- `Code/Project1_Analysis_Bayesian.Rmd` – placeholder for Bayesian modeling

### EDA progress (Project1_EDA.Rmd)
Completed the following initial checks and setup:
- Loaded the raw CSV and standardized variable names
- Dropped the extra index column (`x`)
- Inspected the dataset structure
- Confirmed longitudinal structure:
  - number of rows and distinct subjects
  - observed year range (min/max `years`)
  - visit counts per year and visits per subject summary
- Verified treatment indicator behavior across time:
  - summarized `art` by `years` (proportion `art == 1` and missingness) to confirm baseline vs on treatment pattern
- Created a subject-level baseline exposure:
  - extracted `hard_drugs` at `years == 0` and merged onto all follow-up rows as `hard_drugs_bl`
  - summarized the number of subjects by baseline hard-drug status and quantified baseline missingness
- Added an outlier/implausible-value check restricted to Years 0 and 2 for core outcomes and covariates (VLOAD, LEU3N, BMI, age, AGG_PHYS, AGG_MENT).
  - Created row-level flags for potential issues and generated a single table (`issues_tbl`) listing all observations with any flag. 
  - Cleaned extreme BMI values by setting BMI > 80 to missing (NA) in the main analysis dataset (`df_a`). 
  
  - Added transformed outcomes for modeling/EDA:
  - `log10_vload = log10(vload + 1)`
  - `log_leu3n = log(leu3n)` for LEU3N > 0
- Updated distribution plots (overall and Year 2) to support transformation decisions.

- Created transformed variables for distribution checks:
  - `log10_vload = log10(vload + 1)`
  - `log_leu3n = log(leu3n)` (where LEU3N > 0)
- Visualized outcome distributions (overall and Year 2):
  - Histograms for VLOAD (raw and log-transformed), LEU3N, AGG_PHYS, and AGG_MENT
- Performed exploratory Year 2 group comparisons by baseline hard drug use:
  - Summary statistics by exposure group
  - Boxplots for Year 2 outcomes (log10(VLOAD+1), LEU3N, AGG_PHYS, AGG_MENT)
  
 

